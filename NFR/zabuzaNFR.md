# Требования для разработки сайта системы онлайн-магазина

## Функциональные требования

1. **Дизайн и брендинг**
   - Сайт должен быть оформлен в цветах бренд-бука.

2. **Каталог товаров**
   - Пользователь может видеть товары, сгруппированные по разделам (бакалея, молочные продукты, мясные продукты и пр.).
   - Пользователь может видеть весь перечень товаров, участвующих в акции на текущий период.

3. **Корзина**
   - Пользователь может добавлять товары в корзину.
   - Пользователь может видеть сумму стоимости товаров в корзине с учетом скидки.

4. **Отзывы**
   - Пользователь может писать отзывы на товары, которые он ранее приобретал.

5. **Дисконтная карта**
   - Пользователь может ввести номер своей дисконтной карты при оформлении заказа, и стоимость заказа будет автоматически пересчитана.

6. **Доставка**
   - Пользователь может указать адрес доставки или выбрать самовывоз.
   - При выборе способа доставки пользователь видит либо режим работы пункта выдачи, либо диапазоны времени, когда может приехать курьер с заказом.

## Нефункциональные требования

### 1. Производительность

**Прогноз роста количества пользователей/запросов/заказов:**

- **На старте проекта (первый год):**
  - Количество активных пользователей в месяц: 10 000–20 000.
  - Количество одновременных пользователей: до 500.
  - Количество заказов в день: до 200.
  - Количество запросов в секунду (RPS): до 50.

- **Через 2 года:**
  - Количество активных пользователей в месяц: 100 000–200 000.
  - Количество одновременных пользователей: до 2 000.
  - Количество заказов в день: до 1 000.
  - Количество запросов в секунду (RPS): до 200.

- **Через 5 лет:**
  - Количество активных пользователей в месяц: 500 000–1 000 000.
  - Количество одновременных пользователей: до 10 000.
  - Количество заказов в день: до 5 000.
  - Количество запросов в секунду (RPS): до 500.

**Время отклика системы:**

- Страницы сайта должны загружаться не более чем за 2 секунды.
- Поиск товаров должен выполняться не более чем за 1 секунду.
- Расчет всех атрибутов заказа (стоимость товаров, применение скидки, расчет доставки и т.д.) должен выполняться не более чем за 2 секунды.
- Перерасчет стоимости заказа при применении дисконтной карты должен выполняться не более чем за 0,5 секунд.
- Перерасчет условий доставки/самовывоза заказа при изменении типа получения заказа должен выполняться не более чем за 0,5 секунд.
- Создание заказа в системе должно выполняться не более чем за 2 секунды.
- Отзывы клиента должны обрабатываться системой не более чем за 1 секунду.
- Все указанные времена отклика должны соблюдаться при скорости интернета не менее 10 Мбит/с.
- В периоды высокой нагрузки (такие как распродажи) допустимо увеличение времени отклика на 20%, но не более.

**Хранение данных:**

- **Товары:**
  - Общий объем данных о товарах: до 100 ГБ на старте, с возможностью увеличения до 1 ТБ через 5 лет.
  - Данные о товарах хранятся бессрочно, если товар доступен для заказа.
  - Товары, снятые с продажи, хранятся в архиве 2 года.

- **Пользователи:**
  - Общий объем данных пользователей (профили, заказы, отзывы): до 500 МБ на старте, с возможностью увеличения до 10 ГБ через 5 лет.
  - Данные активных пользователей хранятся бессрочно.
  - Данные неактивных пользователей (без заказов более 2 лет) хранятся 5 лет, после чего удаляются или архивируются.

- **Заказы:**
  - Общий объем данных о заказах: до 1 ГБ на старте, с возможностью увеличения до 50 ГБ через 5 лет.
  - Данные о заказах хранятся 5 лет.
  - Старые заказы (старше 2 лет) автоматически архивируются.

### 2. Безопасность

**Защита данных:**

- Все данные, передаваемые между клиентом и сервером, должны быть защищены с использованием протокола HTTPS.
- Пароли пользователей должны храниться в зашифрованном виде: хеширование по технологии bcrypt.
- Чувствительные данные пользователей должны храниться в зашифрованном виде: симметричное шифрование по технологии AES-256.
- Должно осуществляться ежедневное резервное копирование всех критических данных.
- Все основные действия с данными (создание/редактирование/удаление) должны логироваться.

**Защита от атак:**

- Система должна быть защищена от SQL-инъекций, XSS-атак и DDoS-атак.

**Аутентификация:**

- Система должна поддерживать возможность входа в систему с использованием двухфакторной аутентификации (2FA).
- Длина пароля пользователя: не менее 8 символов.
- Пароль должен содержать: символы латиницы нижнего и верхнего регистра, спецсимволы.
- Ограничение количества попыток входа (не более 5 попыток, после чего блокировка на 15 минут).
- Максимальный срок действия пароля: 2 года. По истечении необходима принудительная смена пароля.

**Авторизация:**

- Должно быть реализовано разграничение прав доступа для разных ролей (администратор, менеджер, пользователь).
- Должен быть запрет на доступ к данным других пользователей без соответствующих прав.

### 3. Удобство использования

**Интуитивность интерфейса:**

- Пользователь должен понимать, как использовать сайт, без необходимости читать инструкции.
- Пользователь должен иметь возможность добавить товар в корзину за 3 клика или меньше.
- Все кнопки “действия” на сайте должны быть явно выделены, в отличие от других кнопок системы, которые не ведут к покупке товара.

**Единообразие дизайна:**

- Все страницы сайта должны иметь единый стиль (цвета, шрифты, кнопки) в соответствии с бренд-буком.

**Навигация:**

- Строка поиска должна быть всегда доступна в верхней части страницы.
- Строка поиска должна поддерживать опечатки и предлагать подсказки.
- Меню сайта должно быть доступно с любой страницы.
- На сайте должны использоваться “хлебные крошки” для упрощения навигации.

**Доступность для людей с ограниченными возможностями:**

- Сайт должен соответствовать стандартам WCAG 2.1 (например, поддержка screen readers, контрастность текста).

**Локализация:**

- Сайт должен поддерживать как минимум два языка: русский и английский.
- Даты и время должны отображаться в соответствии с регионом пользователя.

### 4. Масштабируемость

- Система должна иметь возможность горизонтального масштабирования (добавление новых серверов для распределения нагрузки).
- Система должна иметь возможность вертикального масштабирования (увеличение ресурсов существующих серверов).
- Система должна иметь возможность использования облачных решений для автоматического добавления ресурсов при увеличении нагрузки.

### 5. Надежность

**Время безотказной работы (отказоустойчивость - А):**

- Система должна быть доступна 99,9% времени в течение года.
- Максимально допустимое время простоя: 8 часов 45 минут в год (без учета плановых остановок системы для технического обслуживания).

**Вероятность сбоя:**

- Система должна соответствовать уровню надежности, при котором вероятность сбоя не превышает 3% (при обращении к функциям системы).

**Восстановление после сбоев:**

- Время восстановления после сбоя с момента обнаружения должно занимать не более 5 минут (Recovery Time Objective, RTO).
- Потеря данных при сбое (Recovery Point Objective, RPO) не должна превышать 1 минуту работы системы.
- Время реакции на уведомление о сбое не должно занимать более 5 минут.

**Резервное копирование:**

- Резервное копирование данных должно выполняться ежедневно.
- Резервные копии должны храниться не менее 30 дней.
- Восстановление данных из резервной копии должно занимать не более 15 минут.

**Мониторинг и уведомления:**

- В системе должен быть реализован механизм мониторинга состояния системы.
- В системе должен быть реализован механизм уведомления о сбоях.

### 6. Доступность

**Уровень доступности (SLA):**

- Система должна обеспечивать доступность 99,85% в год, что соответствует допустимому простою не более 20 часов 45 минут в год (с учетом плановых остановок на техническое обслуживание системы).

**Допустимые простои (с учетом плановых остановок на техническое обслуживание системы):**

- В год: не более 20 часов 45 минут.
- В месяц: не более 1 часа 44 минут.

### 7. Техническое обслуживание

**Плановое обслуживание:**

- Время на плановое техническое обслуживание не должно превышать 1 часа в месяц.
- Плановое обслуживание должно проводиться в периоды наименьшей нагрузки на систему (01:00 - 05:00).

**Обновление системы:**

- Система должна поддерживать возможность обновления без остановки работы (zero-downtime deployment).
- Время обновления не должно превышать 30 минут.
- После обновления должна быть предусмотрена возможность отката к предыдущей версии в течение 15 минут.

### 8. Переносимость и совместимость

**Типы устройств:**

- Смартфоны (с сенсорным управлением, диагональ экрана от 4 до 7 дюймов).
- Планшеты (с сенсорным управлением, диагональ экрана от 7 до 12 дюймов).
- Ноутбуки и настольные компьютеры (с управлением через клавиатуру и мышь).

**Операционные системы:**

- Мобильные ОС: iOS (версии 14 и выше), Android (версии 10 и выше).
- Десктопные ОС: Windows (версии 10 и выше), macOS (версии 11 и выше), Linux (Ubuntu 20.04 и выше).

**Браузеры и их версии:**

- Google Chrome (версии 90 и выше).
- Mozilla Firefox (версии 88 и выше).
- Safari (версии 14 и выше).
- Microsoft Edge (версии 90 и выше).

**Минимальные требования к устройствам и оборудованию:**

- Процессор: Минимум 2 ядра с тактовой частотой 1,5 ГГц.
- Оперативная память: 2 ГБ для мобильных устройств, 4 ГБ для десктопов.
- Свободное место на диске: 100 МБ для кэша и временных файлов.

**Требования к подключению:**

- Широкополосный интернет: Поддержка работы при скорости от 10 Мбит/с.
- Мобильный интернет: Поддержка работы при скорости от 3G (минимум 1 Мбит/с).

**Интеграция с другими системами:**

- ERP-системы: 1C (требование: поддержка передачи данных в формате JSON или XML).
- Google API: для упрощенной регистрации и авторизации пользователей через их аккаунты Google с помощью OAuth 2.0.
